(self["webpackChunkdocx"]=self["webpackChunkdocx"]||[]).push([[565],{6419:(e,n,t)=>{"use strict";t.d(n,{Z:()=>d});const s=new RegExp("^[+-]?\\d+(\\.\\d+)?$"),r=new RegExp(/^\S+$/),l=new RegExp(/^[a-zA-Zа-яА-Я]+$/),u=new RegExp(/^[a-zA-Z]+$/),o=new RegExp(/^[a-zA-Z_]+$/),a=4,i=6;class m{alpha(){return e=>u.test(e)||"Поле может содержать только латинские буквы"}username(){return e=>o.test(e)&&this.lengthGreater(a-1)(e)||"Логин невалиден"}password(){return e=>r.test(e)&&this.lengthGreater(i-1)(e)||"Пароль невалиден"}alphaWithRus(){return e=>l.test(e)||"Поле может содержать только буквы"}withoutSpaces(){return e=>r.test(e)||"Поле не должно содержать пробелы"}required(){return e=>!!e||"Поле обязательное"}requiredWithZero(){return e=>!!e||"0"==e||"Поле обязательное"}lengthLess(e){return null==e&&console.warn("len in lengthLess is null"),n=>n.length<e||`Поле должно быть меньше ${e} символов`}lengthGreater(e){return null==e&&console.warn("len in lengthGreater is null"),n=>n.length>e||`Поле должно быть больше ${e} символов`}lengthEquals(e){return null==e&&console.warn("len in lengthEquals is null"),n=>n.length===e||`Поле должно состоять из ${e} символов`}passwordLength(){return e=>e.length>=6||"Пароль должен быть больше 6 символов"}number(){return e=>s.test(e)||"Поле должно быть числом"}numberLess(e){return null==e&&console.warn("max in numberLess is null"),n=>n<e||`Поле должно быть меньше чем ${e}`}numberBetweenNotStrictScore(e,n){return null==e&&console.warn("min in numberBetweenNotStrict is null}"),null==n&&console.warn("max in numberBetweenNotStrict is null"),t=>t>=e&&t<=n||0==t||`Min ${e}, Max ${n}`}}const c=new m,d=c},3383:(e,n,t)=>{"use strict";t.d(n,{K:()=>s,n:()=>r});class s{constructor(e,n){this.password=e,this.username=n}}class r{constructor(e,n,t,s,r,l,u,o,a){this.chairman=n||{},this.firstName=t,this.id=s,this.lastName=r,this.middleName=l,this.password=u,this.roles=o||[],this.username=a,this.token=e}}},4565:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>W});var s=t(3673);function r(e,n,t,r,l,u){const o=(0,s.up)("login-form"),a=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(a,{class:"row items-center justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(o)])),_:1})}const l={class:"std_form_container"},u=(0,s.Wm)("div",null,[(0,s.Wm)("h4",null,[(0,s.Wm)("strong",null,"Авторизация")])],-1),o={class:"row justify-end "};function a(e,n,t,r,a,i){const m=(0,s.up)("q-input"),c=(0,s.up)("q-btn"),d=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)("div",l,[(0,s.Wm)(d,{class:"q-gutter-md q-ma-md",onSubmit:e.onSubmit},{default:(0,s.w5)((()=>[u,(0,s.Wm)(m,{type:"text",label:"Логин",rules:[e.ruleApi.required(),e.ruleApi.username()],modelValue:e.user.username,"onUpdate:modelValue":n[1]||(n[1]=n=>e.user.username=n)},null,8,["rules","modelValue"]),(0,s.Wm)(m,{type:"password",label:"Пароль",modelValue:e.user.password,"onUpdate:modelValue":n[2]||(n[2]=n=>e.user.password=n),rules:[e.ruleApi.required(),e.ruleApi.withoutSpaces()]},null,8,["modelValue","rules"]),(0,s.Wm)("div",o,[(0,s.Wm)(c,{label:"Войти",loading:e.loading,type:"submit",icon:"login",unelevated:"",flat:"",class:"login_btn_tmp"},null,8,["loading"])])])),_:1},8,["onSubmit"])])}var i=t(1959),m=t(2925),c=t(9582),d=t(6419),p=t(3383),h=t(3406);const g=(0,s.aZ)({name:"LoginForm",components:{},setup(){const e=(0,i.iH)(!1),n=(0,c.tv)(),t=(0,m.useStore)(),s=(0,i.qj)(new p.K("",""));function r(){e.value=!0,setTimeout((()=>{t.dispatch("user/login",s).then((e=>{e?(h.Z.showPositive("Вы успешно залогинились"),n.push("/")):h.Z.showNegative("Авторизация провалена")})).finally((()=>e.value=!1))}),300)}return{loading:e,user:s,ruleApi:d.Z,onSubmit:r}}});var w=t(5269),b=t(4842),f=t(8240),Z=t(7518),q=t.n(Z);g.render=a;const v=g;q()(g,"components",{QForm:w.Z,QInput:b.Z,QBtn:f.Z});const S=(0,s.aZ)({name:"LoginPage",components:{LoginForm:v}});var x=t(4379);S.render=r;const W=S;q()(S,"components",{QPage:x.Z})}}]);